<div class="table-container">
    <p-table
        sortField="time"
        [sortOrder]="1"
        [value]="histories"
        datakey="id"
        [tableStyle]="{ 'table-layout': 'auto', width: '100%', 'text-align': 'center' }"
        [paginator]="true"
        [rows]="10"
        [rowsPerPageOptions]="[10, 25, 50]"
        styleClass="p-datatable-gridlines-striped">
        <ng-template pTemplate="caption">
            <div class="flex">
                <h3 class="m-0">Matching History</h3>
            </div>
        </ng-template>
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th style="width: 25%">Question</th>
                <th style="width: 10%">Difficulty</th>
                <th style="width: 30%">Topics</th>
                <th style="width: 12%">Collaborator</th>
                <th style="width: 8%">Status</th>
                <th style="width: 15%">Time</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-history>
            <tr>
                <td>{{ history.question }}</td>
                <td>{{ history.difficulty }}</td>
                <td>{{ history.topics.join(', ') }}</td>
                <td>{{ history.collaborator }}</td>
                <td>
                    @if (history.status === 'COMPLETED') {
                        <i class="pi pi-check" style="color: green; font-size: large"></i>
                    } @else if (history.status === 'FORFEITED') {
                        <i class="pi pi-times" style="color: red; font-size: large"></i>
                    } @else if (history.status === 'IN_PROGRESS') {
                        <i class="pi pi-spin pi-spinner" style="color: white; font-size: large"></i>
                    }
                </td>
                <td>{{ history.time | date: 'short' }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>
